<#-- 
    MyBatisMapper生成模版
-->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="${entityName}">
  <resultMap id="${entityName}.resultMap" type="${entityName}">
    <id property="${idField}" column="${idColumn}"/>

	<#list basicPropties as each>
    	<result property="${each.name}" column="${each.column!}"/>
	</#list>

	<#list manyToOnePropties as each>
	    <association property="${each.name}" column="${each.column!}" javaType="${each.type}">
	    	<id property="${each.idField}" column="${each.idColumn}"/>
	    </association>
	</#list>
  </resultMap>

  <select id="list" resultMap="${entityName}.resultMap">
  		SELECT * FROM ${tableName} LIMIT ${'#'}{from},${'#'}{pageSize}
  </select>

  <select id="find" resultMap="${entityName}.resultMap">
  		SELECT * FROM ${tableName} WHERE ${idColumn}=${'#'}{0}
  </select>

  <select id="listMap" resultType="map">
  		SELECT * FROM ${tableName} LIMIT ${'#'}{from},${'#'}{pageSize}
  </select>
  
  <insert id="save" parameterType="${entityName}">
    <#assign fields=""/>
    <#assign values=""/>

	<#list basicPropties as each>
		<#if each_has_next>
	        <#assign fields=fields+"${each.column!},"/>
	        <#assign values=values+"${'#'}{${each.name}},"/>
		<#else>
	        <#assign fields=fields+"${each.column!}"/>
	        <#assign values=values+"${'#'}{${each.name}}"/>
		</#if>
	</#list>

  	INSERT INTO ${tableName}(${fields}) VALUES (${values})
  </insert>
</mapper>
<#-- MyBatisMapper生成模版结束 -->